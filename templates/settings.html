<!-- templates/settings.html -->

{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h2>Settings</h2>
    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }} alert-dismissible fade show mt-2" role="alert">
                    {{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    <form action="/settings" method="post">
        <div class="form-group">
            <label for="model">Select Generation Model:</label>
            <select name="model" class="form-control" id="model">
                <option value="qwen" {% if model_choice == 'qwen' %}selected{% endif %}>Qwen2-VL-7B-Instruct</option>
                <option value="gemini" {% if model_choice == 'gemini' %}selected{% endif %}>Google Gemini</option>
                <option value="gpt4" {% if model_choice == 'gpt4' %}selected{% endif %}>OpenAI GPT-4</option>
                <option value="llama-vision" {% if model_choice == 'llama-vision' %}selected{% endif %}>Llama-Vision</option>
                <option value="pixtral" {% if model_choice == 'pixtral' %}selected{% endif %}>Pixtral</option>
                <option value="molmo" {% if model_choice == 'molmo' %}selected{% endif %}>Molmo</option>
                <option value="groq-llama-vision" {% if model_choice == 'groq-llama-vision' %}selected{% endif %}>Groq Llama Vision</option>
            </select>
        </div>
        <div class="form-group">
            <label for="resized_height">Image Resized Height (multiple of 28):</label>
            <input type="number" name="resized_height" class="form-control" id="resized_height" value="{{ resized_height }}" min="28" step="28">
        </div>
        <div class="form-group">
            <label for="resized_width">Image Resized Width (multiple of 28):</label>
            <input type="number" name="resized_width" class="form-control" id="resized_width" value="{{ resized_width }}" min="28" step="28">
        </div>
        <button type="submit" class="btn btn-primary">Save Settings</button>
    </form>
</div>
{% endblock %}
